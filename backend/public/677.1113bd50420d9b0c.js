"use strict";(self.webpackChunkangular_registration_login_example=self.webpackChunkangular_registration_login_example||[]).push([[677],{8677:(k,f,s)=>{s.r(f),s.d(f,{AccountModule:()=>L});var i=s(433),a=s(6895),o=s(9230),u=s(8256),m=s(6082);let _=(()=>{class e{constructor(t,n){this.router=t,this.accountService=n,this.accountService.userValue&&this.router.navigate(["/"])}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(o.F0),u.Y36(m.B))},e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],decls:2,vars:0,consts:[[1,"container","col-md-6","offset-md-3","mt-5"]],template:function(t,n){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"router-outlet"),u.qZA())},dependencies:[o.lC],encapsulation:2}),e})();var g=s(590);function Z(e,r){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043b\u043e\u0433\u0438\u043d"),u.qZA())}function C(e,r){if(1&e&&(u.TgZ(0,"div",12),u.YNc(1,Z,2,0,"div",13),u.qZA()),2&e){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.f.username.errors.required)}}function b(e,r){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043f\u0430\u0440\u043e\u043b\u044c"),u.qZA())}function h(e,r){if(1&e&&(u.TgZ(0,"div",12),u.YNc(1,b,2,0,"div",13),u.qZA()),2&e){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.f.password.errors.required)}}function T(e,r){1&e&&u._UZ(0,"span",14)}const v=function(e){return{"is-invalid":e}};function A(e,r){1&e&&(u.TgZ(0,"div"),u._uU(1,"First Name is required"),u.qZA())}function J(e,r){if(1&e&&(u.TgZ(0,"div",15),u.YNc(1,A,2,0,"div",16),u.qZA()),2&e){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.f.firstname.errors.required)}}function x(e,r){1&e&&(u.TgZ(0,"div"),u._uU(1,"Last Name is required"),u.qZA())}function I(e,r){if(1&e&&(u.TgZ(0,"div",15),u.YNc(1,x,2,0,"div",16),u.qZA()),2&e){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.f.lastname.errors.required)}}function U(e,r){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u0447\u0442\u0430"),u.qZA())}function B(e,r){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0424\u043e\u0440\u043c\u0430\u0442 \u043f\u043e\u0447\u0442\u044b \u043d\u0435 \u0432\u0435\u0440\u0435\u043d"),u.qZA())}function E(e,r){if(1&e&&(u.TgZ(0,"div",15),u.YNc(1,U,2,0,"div",16),u.YNc(2,B,2,0,"div",16),u.qZA()),2&e){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.f.email.errors.required),u.xp6(1),u.Q6J("ngIf",t.f.email.errors.pattern)}}function F(e,r){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043b\u043e\u0433\u0438\u043d"),u.qZA())}function Y(e,r){if(1&e&&(u.TgZ(0,"div",15),u.YNc(1,F,2,0,"div",16),u.qZA()),2&e){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.f.username.errors.required)}}function N(e,r){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043f\u0430\u0440\u043e\u043b\u044c"),u.qZA())}function Q(e,r){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u043b\u0438\u043d\u043d\u043e\u0439 \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432!"),u.qZA())}function y(e,r){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u043e \u043a\u0440\u0430\u0439\u043d\u0435\u0439 \u043c\u0435\u0440\u0435 \u043e\u0434\u043d\u0443 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443, \u043e\u0434\u043d\u0443 \u0441\u0442\u0440\u043e\u0447\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443, \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443 \u0438 \u043e\u0434\u0438\u043d \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0438\u043c\u0432\u043e\u043b"),u.qZA())}function S(e,r){if(1&e&&(u.TgZ(0,"div",15),u.YNc(1,N,2,0,"div",16),u.YNc(2,Q,2,0,"div",16),u.YNc(3,y,2,0,"div",16),u.qZA()),2&e){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.f.password.errors.required),u.xp6(1),u.Q6J("ngIf",t.f.password.errors.minlength),u.xp6(1),u.Q6J("ngIf",t.f.password.errors.pattern)}}function D(e,r){1&e&&u._UZ(0,"span",17)}const d=function(e){return{"is-invalid":e}},R=[{path:"",component:_,children:[{path:"login",component:(()=>{class e{constructor(t,n,l,p,c){this.formBuilder=t,this.route=n,this.router=l,this.accountService=p,this.alertService=c,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({username:["",i.kI.required],password:["",i.kI.required]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe((0,g.P)()).subscribe({next:()=>{this.router.navigateByUrl(this.route.snapshot.queryParams.returnUrl||"/")},error:t=>{this.alertService.error(t),this.loading=!1}}))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(i.qu),u.Y36(o.gz),u.Y36(o.F0),u.Y36(m.B),u.Y36(m.c))},e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],decls:21,vars:11,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","../register",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(t,n){1&t&&(u.TgZ(0,"div",0)(1,"h4",1),u._uU(2,"\u0412\u0445\u043e\u0434"),u.qZA(),u.TgZ(3,"div",2)(4,"form",3),u.NdJ("ngSubmit",function(){return n.onSubmit()}),u.TgZ(5,"div",4)(6,"label",5),u._uU(7,"\u041b\u043e\u0433\u0438\u043d"),u.qZA(),u._UZ(8,"input",6),u.YNc(9,C,2,1,"div",7),u.qZA(),u.TgZ(10,"div",4)(11,"label",5),u._uU(12,"\u041f\u0430\u0440\u043e\u043b\u044c"),u.qZA(),u._UZ(13,"input",8),u.YNc(14,h,2,1,"div",7),u.qZA(),u.TgZ(15,"div")(16,"button",9),u.YNc(17,T,1,0,"span",10),u._uU(18," \u041b\u043e\u0433\u0438\u043d "),u.qZA(),u.TgZ(19,"a",11),u._uU(20,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),u.qZA()()()()()),2&t&&(u.xp6(4),u.Q6J("formGroup",n.form),u.xp6(4),u.Q6J("ngClass",u.VKq(7,v,n.submitted&&n.f.username.errors)),u.xp6(1),u.Q6J("ngIf",n.submitted&&n.f.username.errors),u.xp6(4),u.Q6J("ngClass",u.VKq(9,v,n.submitted&&n.f.password.errors)),u.xp6(1),u.Q6J("ngIf",n.submitted&&n.f.password.errors),u.xp6(2),u.Q6J("disabled",n.loading),u.xp6(1),u.Q6J("ngIf",n.loading))},dependencies:[a.mk,a.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,o.yS],encapsulation:2}),e})()},{path:"register",component:(()=>{class e{constructor(t,n,l,p,c){this.formBuilder=t,this.route=n,this.router=l,this.accountService=p,this.alertService=c,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({firstname:["",i.kI.required],lastname:["",i.kI.required],username:["",i.kI.required],email:["",[i.kI.required,i.kI.pattern(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],password:["",[i.kI.required,i.kI.minLength(6),i.kI.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{6,}")]]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.register(this.form.value).pipe((0,g.P)()).subscribe({next:()=>{this.alertService.success("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u0430",{keepAfterRouteChange:!0}),this.router.navigate(["../login"],{relativeTo:this.route})},error:t=>{this.alertService.error(t),this.loading=!1}}))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(i.qu),u.Y36(o.gz),u.Y36(o.F0),u.Y36(m.B),u.Y36(m.c))},e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],decls:36,vars:23,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","firstname",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","lastname",1,"form-control",3,"ngClass"],["type","email","formControlName","email",1,"form-control",3,"ngClass"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","../login",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(t,n){1&t&&(u.TgZ(0,"div",0)(1,"h4",1),u._uU(2,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),u.qZA(),u.TgZ(3,"div",2)(4,"form",3),u.NdJ("ngSubmit",function(){return n.onSubmit()}),u.TgZ(5,"div",4)(6,"label",5),u._uU(7,"\u0418\u043c\u044f"),u.qZA(),u._UZ(8,"input",6),u.YNc(9,J,2,1,"div",7),u.qZA(),u.TgZ(10,"div",4)(11,"label",5),u._uU(12,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(13,"input",8),u.YNc(14,I,2,1,"div",7),u.qZA(),u.TgZ(15,"div",4)(16,"label",5),u._uU(17,"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"),u.qZA(),u._UZ(18,"input",9),u.YNc(19,E,3,2,"div",7),u.qZA(),u.TgZ(20,"div",4)(21,"label",5),u._uU(22,"\u041b\u043e\u0433\u0438\u043d"),u.qZA(),u._UZ(23,"input",10),u.YNc(24,Y,2,1,"div",7),u.qZA(),u.TgZ(25,"div",4)(26,"label",5),u._uU(27,"\u041f\u0430\u0440\u043e\u043b\u044c"),u.qZA(),u._UZ(28,"input",11),u.YNc(29,S,4,3,"div",7),u.qZA(),u.TgZ(30,"div")(31,"button",12),u.YNc(32,D,1,0,"span",13),u._uU(33," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f "),u.qZA(),u.TgZ(34,"a",14),u._uU(35,"\u041e\u0442\u043c\u0435\u043d\u0430"),u.qZA()()()()()),2&t&&(u.xp6(4),u.Q6J("formGroup",n.form),u.xp6(4),u.Q6J("ngClass",u.VKq(13,d,n.submitted&&n.f.firstname.errors)),u.xp6(1),u.Q6J("ngIf",n.submitted&&n.f.firstname.errors),u.xp6(4),u.Q6J("ngClass",u.VKq(15,d,n.submitted&&n.f.lastname.errors)),u.xp6(1),u.Q6J("ngIf",n.submitted&&n.f.lastname.errors),u.xp6(4),u.Q6J("ngClass",u.VKq(17,d,n.submitted&&n.f.email.errors)),u.xp6(1),u.Q6J("ngIf",n.submitted&&n.f.email.errors),u.xp6(4),u.Q6J("ngClass",u.VKq(19,d,n.submitted&&n.f.username.errors)),u.xp6(1),u.Q6J("ngIf",n.submitted&&n.f.username.errors),u.xp6(4),u.Q6J("ngClass",u.VKq(21,d,n.submitted&&n.f.password.errors)),u.xp6(1),u.Q6J("ngIf",n.submitted&&n.f.password.errors),u.xp6(2),u.Q6J("disabled",n.loading),u.xp6(1),u.Q6J("ngIf",n.loading))},dependencies:[a.mk,a.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,o.yS],encapsulation:2}),e})()}]}];let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[o.Bz.forChild(R),o.Bz]}),e})(),L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[a.ez,i.UX,w]}),e})()}}]);